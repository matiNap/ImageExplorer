{"version":3,"sources":["apis/unsplash.ts","reducers/appReducer.ts","reducers/userReducer.ts","reducers/index.tsx","store.ts","navRoutes.ts","components/ImageGrid/components/Info.tsx","components/ImageGrid/index.tsx","selectors/app.ts","components/Container/index.tsx","screens/Main/index.tsx","theme.ts","components/Logo/index.tsx","components/NavigationLink/index.tsx","components/Header/components/SearchInput.tsx","components/Header/index.tsx","components/Drawer/index.tsx","hocs/withNavigation.tsx","screens/Search/index.tsx","screens/Topic/index.tsx","selectors/user.ts","screens/Profile/components/Stats.tsx","screens/Profile/components/UserInfoPlaceholder.tsx","screens/Profile/components/UserInfo.tsx","screens/Profile/components/UserPhotos.tsx","screens/Profile/index.tsx","App.tsx","index.js"],"names":["axios","create","headers","Authorization","process","REACT_APP_ACCESS_KEY","baseURL","appSlice","createSlice","name","initialState","latestImages","images","page","loading","error","reducers","setLatestImages","state","action","payloadImages","payload","actions","userSlice","data","user","photos","setUser","setPhotos","prevPhotos","payloadPhotos","combineReducers","app","appReducer","userReducer","store","configureStore","reducer","devTools","MAIN","SEARCH","TOPICS","PROFILE","downloadUri","isProfile","username","avatarUri","likes","palette","useTheme","className","to","Avatar","src","Typography","color","text","secondary","size","style","href","IconButton","aria-label","ImageGrid","props","observer","renderColumn","map","index","urls","download","links","profile_image","key","ref","length","callObserver","regular","alt","Info","small","node","current","disconnect","IntersectionObserver","entries","isIntersecting","loadImages","observe","this","maxIndex","col1","splice","col2","Math","floor","col3","CircularProgress","React","Component","selectLatestImages","children","dispatch","useDispatch","useSelector","Container","getState","a","unsplash","get","params","per_page","createMuiTheme","primary","main","typography","fontFamily","join","fontSize","history","useHistory","onClick","push","selected","useLocation","pathname","Boolean","fontWeight","type","placeholder","setHidden","backgroundColor","Logo","SearchInput","NavigationLink","hidden","SwipeableDrawer","open","onClose","onOpen","HigerComponent","useState","display","flexDirection","Header","Drawer","selectUser","selectPhotos","value","label","width","height","foregroundColor","x","y","rx","ry","cx","cy","r","location","total_likes","total_photos","twitter_username","instagram_username","large","Stats","UserInfoPlaceholder","userId","response","fetchPhotos","Profile","match","fetchUser","UserInfo","UserPhotos","connect","ThemeProvider","theme","exact","path","component","withNavigation","Main","Search","Topics","ReactDOM","render","StrictMode","App","document","getElementById"],"mappings":"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","file":"static/js/main.d21a9d8b.chunk.js","sourcesContent":["// import Unsplash from \"unsplash-js\";\nimport axios from \"axios\";\n// export default new Unsplash({ accessKey: process.env.REACT_APP_ACCESS_KEY });\n\nexport default axios.create({\n  headers: { Authorization: `Client-ID ${process.env.REACT_APP_ACCESS_KEY}` },\n  baseURL: \"https://api.unsplash.com/\",\n});\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { Image } from \"../types\";\nimport { AppThunk } from \"../store\";\nimport unsplash from \"../apis/unsplash\";\n\ninterface User {\n  acces_token: string;\n  token_type: string;\n  scope: string;\n  created_at: number;\n}\n\nconst IMAGES_PER_PAGE = 30;\ninterface ImageLoader {\n  images: Image[] | null;\n  page: number;\n  loading: boolean;\n  error: boolean;\n}\n\nconst INIT_STATE: {\n  latestImages: ImageLoader;\n} = {\n  latestImages: {\n    images: null,\n    page: 1,\n    loading: false,\n    error: false,\n  },\n};\n\nconst appSlice = createSlice({\n  name: \"app\",\n  initialState: INIT_STATE,\n  reducers: {\n    setLatestImages: (state, action) => {\n      const latestImages = state.latestImages.images\n        ? state.latestImages.images\n        : [];\n      const payloadImages = action.payload.images ? action.payload.images : [];\n      state.latestImages = {\n        ...state.latestImages,\n        ...action.payload,\n        images: [...latestImages, ...payloadImages],\n      };\n    },\n  },\n});\n\nconst { setLatestImages } = appSlice.actions;\n\nexport default appSlice.reducer;\n\nexport const fetchLatestImages = (): AppThunk => async (dispatch, getState) => {\n  const state = getState();\n\n  try {\n    dispatch(setLatestImages({ loading: true }));\n    const { page } = state.app.latestImages;\n    const { data } = await unsplash.get(\"/photos\", {\n      params: {\n        page,\n        per_page: IMAGES_PER_PAGE,\n      },\n    });\n\n    dispatch(\n      setLatestImages({\n        images: data,\n        page: page + 1,\n        per_page: 15,\n        loading: false,\n      })\n    );\n  } catch (error) {\n    dispatch(setLatestImages({ error: true }));\n  }\n};\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { User, Image } from \"../types\";\nimport unsplash from \"../apis/unsplash\";\nimport { AppThunk } from \"../store\";\n\ninterface UserLoader {\n  data: {\n    loading: boolean;\n    user: User | null;\n    error: boolean;\n  };\n  photos: {\n    images: Image[] | null;\n    error: boolean;\n    loading: boolean;\n    page: number;\n  };\n}\n\nconst INIT_STATE: UserLoader = {\n  data: {\n    user: null,\n    error: false,\n    loading: true,\n  },\n  photos: {\n    images: null,\n    error: false,\n    loading: true,\n    page: 1,\n  },\n};\n\nconst userSlice = createSlice({\n  name: \"user\",\n  initialState: INIT_STATE,\n  reducers: {\n    setUser: (state, action) => {\n      state.data = { ...state.data, ...action.payload };\n    },\n    setPhotos: (state, action) => {\n      const prevPhotos = state.photos.images ? state.photos.images : [];\n      const payloadPhotos = action.payload.images ? action.payload.images : [];\n      state.photos = {\n        ...state.photos,\n        ...action.payload,\n        images: [...prevPhotos, ...payloadPhotos],\n      };\n    },\n  },\n});\n\nexport default userSlice.reducer;\n\nconst { setUser, setPhotos } = userSlice.actions;\n\nexport const fetchUser = (userId: string): AppThunk => async (dispatch) => {\n  try {\n    dispatch(setUser({ loading: true }));\n    const response = await unsplash.get(`users/${userId}`);\n\n    dispatch(\n      setUser({\n        loading: false,\n        user: response.data,\n        error: false,\n      })\n    );\n  } catch (error) {\n    dispatch(setUser({ error: true, loading: false }));\n  }\n};\n\nexport const fetchPhotos = (userId: string): AppThunk => async (\n  dispatch,\n  getState\n) => {\n  try {\n    const state = getState();\n    const {\n      user: {\n        photos: { page },\n      },\n    } = state;\n    dispatch(setPhotos({ loading: true }));\n    const response = await unsplash.get(`users/${userId}/photos`, {\n      params: {\n        page,\n        per_page: 30,\n      },\n    });\n    dispatch(\n      setPhotos({\n        loading: false,\n        images: response.data,\n        error: false,\n        page: page + 1,\n      })\n    );\n  } catch (error) {\n    dispatch(setPhotos({ error: true, loading: false }));\n  }\n};\n","import { combineReducers } from \"redux\";\nimport appReducer from \"./appReducer\";\nimport userReducer from \"./userReducer\";\n\nexport default combineReducers({\n  app: appReducer,\n  user: userReducer,\n});\n","import { configureStore, ThunkAction, Action } from \"@reduxjs/toolkit\";\nimport reducer from \"./reducers\";\n\nconst store = configureStore({\n  reducer: reducer,\n  devTools: true,\n});\n\nexport default store;\n\nexport type RootState = ReturnType<typeof store.getState>;\n\nexport type AppThunk = ThunkAction<void, RootState, unknown, Action<string>>;\n","export const MAIN = \"/image-explorer\";\nexport const SEARCH = `${MAIN}/search`;\nexport const TOPICS = `${MAIN}/topics`;\nexport const PROFILE = `${MAIN}/profile`;\n","import React from \"react\";\nimport { Avatar, useTheme, Typography, IconButton } from \"@material-ui/core\";\nimport { FiDownload, FiHeart } from \"react-icons/fi\";\nimport { Link } from \"react-router-dom\";\nimport { PROFILE } from \"../../../navRoutes\";\n\ninterface Props {\n  downloadUri: string;\n  username: string;\n  avatarUri: string;\n  isProfile?: boolean;\n  likes: number;\n}\n\nexport default ({\n  downloadUri,\n  isProfile,\n  username,\n  avatarUri,\n  likes,\n}: Props) => {\n  const { palette } = useTheme();\n  return (\n    <div className=\"image-grid-info\">\n      <div className=\"info-container\">\n        <div>\n          {!isProfile && (\n            <Link to={`${PROFILE}/${username}`}>\n              <div className=\"info-header\">\n                <Avatar className=\"info-avatar\" src={avatarUri} />\n                <Typography color=\"secondary\">{username}</Typography>\n              </div>\n            </Link>\n          )}\n        </div>\n\n        <div className=\"info-footer\">\n          <div>\n            {isProfile && (\n              <div className=\"info-rate\">\n                <FiHeart color={palette.text.secondary} size={22} />\n                <p\n                  style={{ color: palette.text.secondary }}\n                  className=\"info-likes\"\n                >\n                  {likes}\n                </p>\n              </div>\n            )}\n          </div>\n          <a href={downloadUri}>\n            <IconButton aria-label=\"download\" className=\"info-download\">\n              <FiDownload color={palette.text.secondary} />\n            </IconButton>\n          </a>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { Image } from \"../../types\";\nimport \"./style.css\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport Info from \"./components/Info\";\n\ninterface Props {\n  loadImages: () => void;\n  images: Image[] | null;\n  loading: boolean;\n  isProfile?: boolean;\n}\n\ninterface RefObject<T> {\n  current: T | null;\n}\n\nexport default class ImageGrid extends React.Component<Props> {\n  observer: RefObject<IntersectionObserver>;\n  constructor(props) {\n    super(props);\n    this.observer = { current: null };\n  }\n  componentDidMount() {\n    this.props.loadImages();\n  }\n\n  renderColumn = (images: Image[]) => {\n    return images.map((data, index) => {\n      const {\n        urls,\n        user,\n        links: { download },\n        likes,\n      } = data;\n      const { username, profile_image } = user;\n      return (\n        <div\n          className=\"cell-container\"\n          key={`data.id${index}`}\n          ref={images.length / 2 === index ? this.callObserver : null}\n        >\n          <img src={urls.regular} alt={\"test\"} className=\"cell-image\" />\n          <Info\n            likes={likes}\n            isProfile={this.props.isProfile}\n            avatarUri={profile_image.small}\n            downloadUri={download}\n            username={username}\n          />\n        </div>\n      );\n    });\n  };\n\n  callObserver = (node) => {\n    const { loading } = this.props;\n    if (loading) return;\n    if (this.observer.current) this.observer.current.disconnect();\n    this.observer.current = new IntersectionObserver((entries) => {\n      if (entries[0].isIntersecting) this.props.loadImages();\n    });\n\n    if (node) this.observer.current.observe(node);\n  };\n\n  render() {\n    const { images, loading } = this.props;\n\n    if (images) {\n      const maxIndex = images.length - 1;\n      let col1 = [...images].splice(0, (1 / 3) * maxIndex);\n      let col2 = [...images].splice(\n        Math.floor((1 / 3) * maxIndex) + 1,\n        (2 / 3) * maxIndex\n      );\n      let col3 = [...images].splice(\n        Math.floor((2 / 3) * maxIndex) + 1,\n        maxIndex\n      );\n\n      return (\n        <div className=\"imager-grid-container\">\n          <div className=\"image-grid\">\n            <div className=\"image-grid-column\">{this.renderColumn(col1)}</div>\n            <div className=\"image-grid-column\">{this.renderColumn(col2)}</div>\n            <div className=\"image-grid-column\">{this.renderColumn(col3)}</div>\n            {loading && (\n              <div className=\"image-grid-loading-container\">\n                <CircularProgress color=\"primary\" size={25} />\n              </div>\n            )}\n          </div>\n        </div>\n      );\n    } else\n      return (\n        <div className=\"image-grid-progress\">\n          <CircularProgress color=\"primary\" size={50} />\n        </div>\n      );\n  }\n}\n","import { RootState } from \"../store\";\n\nexport const selectLatestImages = (state: RootState) => state.app.latestImages;\n","import React, { ReactNode } from \"react\";\nimport \"./style.css\";\n\ninterface Props {\n  children: ReactNode;\n}\nexport default ({ children }: Props) => {\n  return <div className=\"main-container\">{children}</div>;\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { fetchLatestImages } from \"../../reducers/appReducer\";\nimport ImageGrid from \"../../components/ImageGrid\";\nimport { selectLatestImages } from \"../../selectors/app\";\nimport Container from \"../../components/Container\";\n\nexport default () => {\n  const dispatch = useDispatch();\n  const { images, loading } = useSelector(selectLatestImages);\n  return (\n    <Container>\n      <ImageGrid\n        loadImages={() => {\n          dispatch(fetchLatestImages());\n        }}\n        {...{ images, loading }}\n      />\n    </Container>\n  );\n};\n","import { createMuiTheme } from \"@material-ui/core/styles\";\n\nexport default createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#3E92CC\",\n    },\n    secondary: {\n      main: \"#FFFFFA\",\n    },\n    text: {\n      primary: \"#2f2f2f\",\n      secondary: \"#f2f2f2\",\n    },\n  },\n  typography: {\n    fontFamily: [\"Robot\", \"sans-serif\"].join(),\n    fontSize: 16,\n  },\n});\n\nexport const DISABLED = \"rgba(0,0,0,0.3)\";\n","import React from \"react\";\n// import { useTheme } from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./style.css\";\nimport { MAIN } from \"../../navRoutes\";\n\nexport default () => {\n  const history = useHistory();\n  return (\n    <div className=\"logo-container\" onClick={() => history.push(MAIN)}>\n      <div>\n        <p className=\"logo-text\">Image</p>\n        <p className=\"logo-sub-text\">Explorer</p>\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { useTheme } from \"@material-ui/core\";\nimport \"./style.css\";\n\ninterface Props {\n  to: string;\n  children?: React.ReactNode | string | JSX.Element;\n  className?: string;\n}\n\nexport default ({ to, children, className }: Props) => {\n  const { palette } = useTheme();\n  const { pathname } = useLocation();\n  const selected = pathname === to;\n  return (\n    <Link\n      {...{ to }}\n      style={{\n        color: Boolean(selected) ? palette.primary.main : palette.text.primary,\n        fontWeight: selected ? \"bold\" : \"unset\",\n      }}\n      className={`navigation-link ${className ? className : \"\"}`}\n    >\n      {children}\n    </Link>\n  );\n};\n","import React from \"react\";\nimport { FiSearch } from \"react-icons/fi\";\nimport { useTheme } from \"@material-ui/styles\";\n\nexport default () => {\n  const { palette } = useTheme();\n  return (\n    <div className=\"search-input-container\">\n      <FiSearch size={31} color={palette.text.primary} type=\"text\" />\n      <input\n        style={{ color: palette.text.primary }}\n        type=\"search\"\n        placeholder=\"Search image\"\n        className=\"search-input\"\n      />\n    </div>\n  );\n};\n","import React from \"react\";\nimport Logo from \"../Logo\";\nimport \"./style.css\";\nimport { useTheme } from \"@material-ui/styles\";\nimport { FiMenu } from \"react-icons/fi\";\n// import { TextField, Avatar, Button } from \"@material-ui/core\";\nimport NavigationLink from \"../NavigationLink\";\nimport { MAIN, TOPICS } from \"../../navRoutes\";\nimport SearchInput from \"./components/SearchInput\";\n// import SignInButton from \"../SignInButton\";\n// import GuestButton from \"../GuestButton\";\n\ninterface Props {\n  setHidden: (value: boolean) => void;\n}\n\nexport default ({ setHidden }: Props) => {\n  const { palette } = useTheme();\n\n  return (\n    <div\n      className=\"header-container\"\n      style={{ backgroundColor: palette.secondary.main }}\n    >\n      <Logo />\n      <SearchInput />\n      <div className=\"header-nav-buttons\">\n        <NavigationLink to={MAIN}>Home</NavigationLink>\n        <NavigationLink to={TOPICS}>Topics</NavigationLink>\n        {/* <Avatar alt=\"Profile\" src={BLANK_IMAGE} className=\"header-avatar\" />\n        <SignInButton />\n        <GuestButton /> */}\n      </div>\n      <FiMenu\n        size={40}\n        color={palette.text.primary}\n        onClick={() => setHidden(false)}\n        className=\"header-menu-icon\"\n      />\n    </div>\n  );\n};\n","import React from \"react\";\n// import NavigationLink from \"../NavigationLink\";\nimport { useTheme } from \"@material-ui/styles\";\nimport { GoChevronLeft } from \"react-icons/go\";\nimport \"./style.css\";\nimport { SwipeableDrawer, Avatar } from \"@material-ui/core\";\nimport NavigationLink from \"../NavigationLink\";\nimport { MAIN, TOPICS } from \"../../navRoutes\";\n// import SignInButton from \"../SignInButton\";\n// import GuestButton from \"../GuestButton\";\n// import { FiLogOut } from \"react-icons/fi\";\n\ninterface Props {\n  hidden: boolean;\n  setHidden: (value: boolean) => void;\n}\nconst BLANK_IMAGE =\n  \"https://lh3.googleusercontent.com/proxy/VD3bQtyTK7T0YdXxQPNuON9aGIDn8zC5n9m6RJxngOaNhNqSQAIfZr_YfOLiSTBXCXbRylV33n_m0FZ_D9RvTK1TroxIxAApWIzTVWbk7TZl4M37ToV3do_EqOia8K7nPkE1btPhB0VNMMWiXQ\";\nexport default ({ hidden, setHidden }: Props) => {\n  const { palette } = useTheme();\n  const signedIn = false;\n  return (\n    <div className={`drawer-container`}>\n      <SwipeableDrawer\n        open={!hidden}\n        onClose={() => setHidden(true)}\n        onOpen={() => setHidden(false)}\n      >\n        <div\n          className=\"drawer-content\"\n          style={{ backgroundColor: palette.secondary.main }}\n        >\n          <div className=\"drawer-header\">\n            <div>\n              {signedIn && (\n                <Avatar\n                  alt=\"Profile\"\n                  src={BLANK_IMAGE}\n                  className=\"drawer-avatar\"\n                />\n              )}\n            </div>\n            <GoChevronLeft\n              onClick={() => setHidden(true)}\n              size={40}\n              color={palette.text.primary}\n              className=\"drawer-hide-icon\"\n            />\n          </div>\n          <ul className=\"drawer-list\">\n            <li>\n              <NavigationLink to={MAIN} className=\"drawer-list-item\">\n                Home\n              </NavigationLink>\n            </li>\n            <li>\n              <NavigationLink to={TOPICS} className=\"drawer-list-item\">\n                Topics\n              </NavigationLink>\n            </li>\n            {/* <li style={{ marginTop: \"auto\" }}>\n              {signedIn ? (\n                <div className=\"drawer-footer\">\n                  <FiLogOut size={35} style={{ color: palette.text.primary }} />\n                  <h3 style={{ marginLeft: \"1rem\" }}>Log out</h3>\n                </div>\n              ) : (\n                <div className=\"drawer-footer\">\n                  <SignInButton />\n                  <GuestButton />\n                </div>\n              )}\n            </li> */}\n          </ul>\n        </div>\n      </SwipeableDrawer>\n    </div>\n  );\n};\n","import React, { useState } from \"react\";\nimport Header from \"../components/Header\";\nimport Drawer from \"../components/Drawer\";\n\nexport default (HigerComponent: React.ComponentType<any>) => {\n  return (props) => {\n    const [hidden, setHidden] = useState(true);\n    return (\n      <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n        <Header {...{ setHidden }} />\n        <Drawer {...{ setHidden, hidden }} />\n        <HigerComponent {...props} />\n      </div>\n    );\n  };\n};\n","import React from \"react\";\n\nexport default () => {\n  return (\n    <div>\n      <p>Search</p>\n    </div>\n  );\n};\n","import React from \"react\";\n\nexport default () => {\n  return (\n    <div>\n      <p>Topics</p>\n    </div>\n  );\n};\n","import { RootState } from \"../store\";\n\nexport const selectUser = (state: RootState) => state.user.data;\nexport const selectPhotos = (state: RootState) => state.user.photos;\n","import React from \"react\";\ninterface Props {\n  value: number;\n  label: string;\n}\n\nexport default ({ value, label }: Props) => {\n  return (\n    <div className=\"profile-stat-column\">\n      <p className=\"profile-stat-number\">{value}</p>\n      <p className=\"profile-stat-label\">{label}</p>\n    </div>\n  );\n};\n","import React from \"react\";\nimport ContentLoader from \"react-content-loader\";\n\nexport default () => {\n  return (\n    <ContentLoader\n      width=\"100%\"\n      height=\"11rem\"\n      backgroundColor=\"#f3f3f3\"\n      foregroundColor=\"#ecebeb\"\n    >\n      <rect x=\"150\" y=\"10\" rx=\"5\" ry=\"5\" width=\"80\" height=\"10\" />\n      <rect x=\"150\" y=\"30\" rx=\"5\" ry=\"5\" width=\"100\" height=\"10\" />\n      <rect x=\"150\" y=\"50\" rx=\"5\" ry=\"5\" width=\"80\" height=\"10\" />\n\n      <circle cx=\"70\" cy=\"70\" r=\"70\" />\n    </ContentLoader>\n  );\n};\n","import React from \"react\";\nimport { selectUser } from \"../../../selectors/user\";\nimport { useSelector } from \"react-redux\";\nimport { useTheme } from \"@material-ui/styles\";\nimport { Avatar } from \"@material-ui/core\";\nimport { FiMapPin, FiInstagram, FiTwitter } from \"react-icons/fi\";\nimport { DISABLED } from \"../../../theme\";\nimport Stats from \"./Stats\";\nimport UserInfoPlaceholder from \"./UserInfoPlaceholder\";\n\nexport default () => {\n  const { user, loading } = useSelector(selectUser);\n  const { palette } = useTheme();\n  // return <UserInfoPlaceholder />;\n  if (!loading && user) {\n    const {\n      location,\n      profile_image,\n      username,\n      name,\n      total_likes,\n      total_photos,\n      twitter_username,\n      instagram_username,\n    } = user;\n    return (\n      <div className=\"profile-container\">\n        <div\n          style={{ backgroundColor: palette.secondary.main }}\n          className=\"profile-info-header\"\n        >\n          <Avatar\n            src={profile_image.large}\n            alt=\"user-profile\"\n            className=\"profile-avatar\"\n          />\n          <div className=\"profile-info\">\n            <p className=\"profile-name text-ellipsis\">{name}</p>\n            <p className=\"profile-username text-ellipsis\">{username}</p>\n            {location && (\n              <div className=\"profile-location \">\n                <FiMapPin style={{ color: DISABLED }} size={17} />\n                <p\n                  className=\"profile-location-text text-ellipsis\"\n                  style={{ color: DISABLED }}\n                >\n                  {location}\n                </p>\n              </div>\n            )}\n          </div>\n          <div className=\"profile-stats\">\n            <Stats label=\"Likes\" value={total_likes} />\n            <Stats label=\"Photos\" value={total_photos} />\n          </div>\n        </div>\n        <div className=\"profile-socials-container\">\n          {instagram_username && (\n            <a\n              href={`https://www.instagram.com/${instagram_username}`}\n              className=\"profile-social-link\"\n            >\n              <FiInstagram color={palette.text.primary} size={22} />\n              <p className=\"social-name\">{instagram_username}</p>\n            </a>\n          )}\n          {twitter_username && (\n            <a\n              href={`https://www.twitter.com/${twitter_username}`}\n              className=\"profile-social-link\"\n            >\n              <FiTwitter color={palette.text.primary} size={22} />\n              <p className=\"social-name\">{twitter_username}</p>\n            </a>\n          )}\n        </div>\n      </div>\n    );\n  } else return <UserInfoPlaceholder />;\n};\n","import React from \"react\";\nimport ImageGrid from \"../../../components/ImageGrid\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { selectPhotos } from \"../../../selectors/user\";\nimport { fetchPhotos } from \"../../../reducers/userReducer\";\n\ninterface Props {\n  userId: string;\n}\n\nexport default ({ userId }: Props) => {\n  const { images, loading } = useSelector(selectPhotos);\n  const dispatch = useDispatch();\n  return (\n    <div>\n      <ImageGrid\n        isProfile\n        {...{ images, loading }}\n        loadImages={() => {\n          dispatch(fetchPhotos(userId));\n        }}\n      />\n    </div>\n  );\n};\n","import React from \"react\";\nimport { fetchUser } from \"../../reducers/userReducer\";\nimport { connect } from \"react-redux\";\nimport UserInfo from \"./components/UserInfo\";\nimport \"./style.css\";\nimport Container from \"../../components/Container\";\nimport UserPhotos from \"./components/UserPhotos\";\n\ninterface Props {\n  match: {\n    params: {\n      userId: string;\n    };\n  };\n  fetchUser: any;\n}\n\nclass Profile extends React.Component<Props> {\n  componentDidMount() {\n    const {\n      match: {\n        params: { userId },\n      },\n    } = this.props;\n\n    this.props.fetchUser(userId);\n  }\n  render() {\n    const {\n      match: {\n        params: { userId },\n      },\n    } = this.props;\n    return (\n      <Container>\n        <UserInfo />\n        <UserPhotos {...{ userId }} />\n      </Container>\n    );\n  }\n}\n\nexport default connect(null, { fetchUser })(Profile);\n","import React from \"react\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport store from \"./store\";\nimport Main from \"./screens/Main\";\nimport { ThemeProvider } from \"@material-ui/core\";\nimport { MAIN, TOPICS, SEARCH, PROFILE } from \"./navRoutes\";\nimport theme from \"./theme\";\nimport withNavigation from \"./hocs/withNavigation\";\nimport Search from \"./screens/Search\";\nimport Topics from \"./screens/Topic\";\nimport Profile from \"./screens/Profile\";\n\nexport default () => {\n  return (\n    <Provider store={store}>\n      <ThemeProvider theme={theme}>\n        <Router>\n          <Switch>\n            <Route exact path={MAIN} component={withNavigation(Main)} />\n            <Route\n              exact\n              path={`${SEARCH}/:query`}\n              component={withNavigation(Search)}\n            />\n            <Route\n              exact\n              path={`${TOPICS}`}\n              component={withNavigation(Topics)}\n            />\n            <Route\n              exact\n              path={`${TOPICS}/:topic`}\n              component={withNavigation(Topics)}\n            />\n            <Route\n              exact\n              path={`${PROFILE}/:userId`}\n              component={withNavigation(Profile)}\n            />\n          </Switch>\n        </Router>\n      </ThemeProvider>\n    </Provider>\n  );\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}