(this["webpackJsonpeconomic-lookup"]=this["webpackJsonpeconomic-lookup"]||[]).push([[0],{108:function(e,a,t){},110:function(e,a,t){},111:function(e,a,t){},112:function(e,a,t){},113:function(e,a,t){},114:function(e,a,t){},115:function(e,a,t){},116:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(6),l=t.n(c),o=t(19),s=t(30),i=t(10),m=t(33),u=t(17),p=t(27),d=t.n(p),f=t(39),g=t(22),E=t(23),v=t(71),h=t.n(v).a.create({headers:{Authorization:"Client-ID ".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/image-explorer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_ACCESS_KEY)},baseURL:"https://api.unsplash.com/"}),b=Object(m.b)({name:"app",initialState:{latestImages:{images:null,page:1,loading:!1,error:!1}},reducers:{setLatestImages:function(e,a){var t=e.latestImages.images?e.latestImages.images:[],r=a.payload.images?a.payload.images:[];e.latestImages=Object(E.a)(Object(E.a)(Object(E.a)({},e.latestImages),a.payload),{},{images:[].concat(Object(g.a)(t),Object(g.a)(r))})}}}),y=b.actions.setLatestImages,O=b.reducer,N=Object(m.b)({name:"user",initialState:{data:{user:null,error:!1,loading:!0},photos:{images:null,error:!1,loading:!0,page:1}},reducers:{setUser:function(e,a){e.data=Object(E.a)(Object(E.a)({},e.data),a.payload)},setPhotos:function(e,a){var t=e.photos.images?e.photos.images:[],r=a.payload.images?a.payload.images:[];e.photos=Object(E.a)(Object(E.a)(Object(E.a)({},e.photos),a.payload),{},{images:[].concat(Object(g.a)(t),Object(g.a)(r))})}}}),j=N.reducer,x=N.actions,w=x.setUser,k=x.setPhotos,C=Object(u.c)({app:O,user:j}),I=Object(m.a)({reducer:C,devTools:!0}),_=t(45),S=t(46),P=t(53),z=t(52),T=(t(108),t(141)),U=t(25),D=t(145),H=t(140),A=t(144),F=t(21),L="/image-explorer",M="".concat(L,"/search"),R="".concat(L,"/topics"),K="".concat(L,"/profile"),W=function(e){var a=e.downloadUri,t=e.isProfile,r=e.username,c=e.avatarUri,l=e.likes,o=Object(U.a)().palette;return n.a.createElement("div",{className:"image-grid-info"},n.a.createElement("div",{className:"info-container"},n.a.createElement("div",null,!t&&n.a.createElement(s.b,{to:"".concat(K,"/").concat(r)},n.a.createElement("div",{className:"info-header"},n.a.createElement(D.a,{className:"info-avatar",src:c}),n.a.createElement(H.a,{color:"secondary"},r)))),n.a.createElement("div",{className:"info-footer"},n.a.createElement("div",null,t&&n.a.createElement("div",{className:"info-rate"},n.a.createElement(F.b,{color:o.text.secondary,size:22}),n.a.createElement("p",{style:{color:o.text.secondary},className:"info-likes"},l))),n.a.createElement("a",{href:a},n.a.createElement(A.a,{"aria-label":"download",className:"info-download"},n.a.createElement(F.a,{color:o.text.secondary}))))))},B=function(e){Object(P.a)(t,e);var a=Object(z.a)(t);function t(e){var r;return Object(_.a)(this,t),(r=a.call(this,e)).observer=void 0,r.renderColumn=function(e){return e.map((function(a,t){var c=a.urls,l=a.user,o=a.links.download,s=a.likes,i=l.username,m=l.profile_image;return n.a.createElement("div",{className:"cell-container",key:"data.id".concat(t),ref:e.length/2===t?r.callObserver:null},n.a.createElement("img",{src:c.regular,alt:"test",className:"cell-image"}),n.a.createElement(W,{likes:s,isProfile:r.props.isProfile,avatarUri:m.small,downloadUri:o,username:i}))}))},r.callObserver=function(e){r.props.loading||(r.observer.current&&r.observer.current.disconnect(),r.observer.current=new IntersectionObserver((function(e){e[0].isIntersecting&&r.props.loadImages()})),e&&r.observer.current.observe(e))},r.observer={current:null},r}return Object(S.a)(t,[{key:"componentDidMount",value:function(){this.props.loadImages()}},{key:"render",value:function(){var e=this.props,a=e.images,t=e.loading;if(a){var r=a.length-1,c=Object(g.a)(a).splice(0,1/3*r),l=Object(g.a)(a).splice(Math.floor(1/3*r)+1,2/3*r),o=Object(g.a)(a).splice(Math.floor(2/3*r)+1,r);return n.a.createElement("div",{className:"imager-grid-container"},n.a.createElement("div",{className:"image-grid"},n.a.createElement("div",{className:"image-grid-column"},this.renderColumn(c)),n.a.createElement("div",{className:"image-grid-column"},this.renderColumn(l)),n.a.createElement("div",{className:"image-grid-column"},this.renderColumn(o)),t&&n.a.createElement("div",{className:"image-grid-loading-container"},n.a.createElement(T.a,{color:"primary",size:25}))))}return n.a.createElement("div",{className:"image-grid-progress"},n.a.createElement(T.a,{color:"primary",size:50}))}}]),t}(n.a.Component),J=function(e){return e.app.latestImages},q=(t(110),function(e){var a=e.children;return n.a.createElement("div",{className:"main-container"},a)}),V=function(){var e=Object(o.c)(),a=Object(o.d)(J),t=a.images,r=a.loading;return n.a.createElement(q,null,n.a.createElement(B,Object.assign({loadImages:function(){e(function(){var e=Object(f.a)(d.a.mark((function e(a,t){var r,n,c,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t(),e.prev=1,a(y({loading:!0})),n=r.app.latestImages.page,e.next=6,h.get("/photos",{params:{page:n,per_page:30}});case 6:c=e.sent,l=c.data,a(y({images:l,page:n+1,per_page:15,loading:!1})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),a(y({error:!0}));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(a,t){return e.apply(this,arguments)}}())}},{images:t,loading:r})))},Y=t(142),G=t(77),Q=Object(G.a)({palette:{primary:{main:"#3E92CC"},secondary:{main:"#FFFFFA"},text:{primary:"#2f2f2f",secondary:"#f2f2f2"}},typography:{fontFamily:["Robot","sans-serif"].join(),fontSize:16}}),X=t(78),Z=(t(111),function(){var e=Object(i.f)();return n.a.createElement("div",{className:"logo-container",onClick:function(){return e.push(L)}},n.a.createElement("div",null,n.a.createElement("p",{className:"logo-text"},"Image"),n.a.createElement("p",{className:"logo-sub-text"},"Explorer")))}),$=(t(112),t(79)),ee=(t(113),function(e){var a=e.to,t=e.children,r=e.className,c=Object(U.a)().palette,l=Object(i.g)().pathname===a;return n.a.createElement(s.b,Object.assign({to:a},{style:{color:Boolean(l)?c.primary.main:c.text.primary,fontWeight:l?"bold":"unset"},className:"navigation-link ".concat(r||"")}),t)}),ae=function(){var e=Object($.a)().palette;return n.a.createElement("div",{className:"search-input-container"},n.a.createElement(F.f,{size:31,color:e.text.primary,type:"text"}),n.a.createElement("input",{style:{color:e.text.primary},type:"search",placeholder:"Search image",className:"search-input"}))},te=function(e){var a=e.setHidden,t=Object($.a)().palette;return n.a.createElement("div",{className:"header-container",style:{backgroundColor:t.secondary.main}},n.a.createElement(Z,null),n.a.createElement(ae,null),n.a.createElement("div",{className:"header-nav-buttons"},n.a.createElement(ee,{to:L},"Home"),n.a.createElement(ee,{to:R},"Topics")),n.a.createElement(F.e,{size:40,color:t.text.primary,onClick:function(){return a(!1)},className:"header-menu-icon"}))},re=t(75),ne=(t(114),t(143)),ce=function(e){var a=e.hidden,t=e.setHidden,r=Object($.a)().palette;return n.a.createElement("div",{className:"drawer-container"},n.a.createElement(ne.a,{open:!a,onClose:function(){return t(!0)},onOpen:function(){return t(!1)}},n.a.createElement("div",{className:"drawer-content",style:{backgroundColor:r.secondary.main}},n.a.createElement("div",{className:"drawer-header"},n.a.createElement("div",null,!1),n.a.createElement(re.a,{onClick:function(){return t(!0)},size:40,color:r.text.primary,className:"drawer-hide-icon"})),n.a.createElement("ul",{className:"drawer-list"},n.a.createElement("li",null,n.a.createElement(ee,{to:L,className:"drawer-list-item"},"Home")),n.a.createElement("li",null,n.a.createElement(ee,{to:R,className:"drawer-list-item"},"Topics"))))))},le=function(e){return function(a){var t=Object(r.useState)(!0),c=Object(X.a)(t,2),l=c[0],o=c[1];return n.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},n.a.createElement(te,{setHidden:o}),n.a.createElement(ce,{setHidden:o,hidden:l}),n.a.createElement(e,a))}},oe=function(){return n.a.createElement("div",null,n.a.createElement("p",null,"Search"))},se=function(){return n.a.createElement("div",null,n.a.createElement("p",null,"Topics"))},ie=function(e){return e.user.data},me=function(e){return e.user.photos},ue=function(e){var a=e.value,t=e.label;return n.a.createElement("div",{className:"profile-stat-column"},n.a.createElement("p",{className:"profile-stat-number"},a),n.a.createElement("p",{className:"profile-stat-label"},t))},pe=t(76),de=function(){return n.a.createElement(pe.a,{width:"100%",height:"11rem",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},n.a.createElement("rect",{x:"150",y:"10",rx:"5",ry:"5",width:"80",height:"10"}),n.a.createElement("rect",{x:"150",y:"30",rx:"5",ry:"5",width:"100",height:"10"}),n.a.createElement("rect",{x:"150",y:"50",rx:"5",ry:"5",width:"80",height:"10"}),n.a.createElement("circle",{cx:"70",cy:"70",r:"70"}))},fe=function(){var e=Object(o.d)(ie),a=e.user,t=e.loading,r=Object($.a)().palette;if(!t&&a){var c=a.location,l=a.profile_image,s=a.username,i=a.name,m=a.total_likes,u=a.total_photos,p=a.twitter_username,d=a.instagram_username;return n.a.createElement("div",{className:"profile-container"},n.a.createElement("div",{style:{backgroundColor:r.secondary.main},className:"profile-info-header"},n.a.createElement(D.a,{src:l.large,alt:"user-profile",className:"profile-avatar"}),n.a.createElement("div",{className:"profile-info"},n.a.createElement("p",{className:"profile-name text-ellipsis"},i),n.a.createElement("p",{className:"profile-username text-ellipsis"},s),c&&n.a.createElement("div",{className:"profile-location "},n.a.createElement(F.d,{style:{color:"rgba(0,0,0,0.3)"},size:17}),n.a.createElement("p",{className:"profile-location-text text-ellipsis",style:{color:"rgba(0,0,0,0.3)"}},c))),n.a.createElement("div",{className:"profile-stats"},n.a.createElement(ue,{label:"Likes",value:m}),n.a.createElement(ue,{label:"Photos",value:u}))),n.a.createElement("div",{className:"profile-socials-container"},d&&n.a.createElement("a",{href:"https://www.instagram.com/".concat(d),className:"profile-social-link"},n.a.createElement(F.c,{color:r.text.primary,size:22}),n.a.createElement("p",{className:"social-name"},d)),p&&n.a.createElement("a",{href:"https://www.twitter.com/".concat(p),className:"profile-social-link"},n.a.createElement(F.g,{color:r.text.primary,size:22}),n.a.createElement("p",{className:"social-name"},p))))}return n.a.createElement(de,null)},ge=(t(115),function(e){var a=e.userId,t=Object(o.d)(me),r=t.images,c=t.loading,l=Object(o.c)();return n.a.createElement("div",null,n.a.createElement(B,Object.assign({isProfile:!0},{images:r,loading:c},{loadImages:function(){l(function(e){return function(){var a=Object(f.a)(d.a.mark((function a(t,r){var n,c,l;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=r(),c=n.user.photos.page,t(k({loading:!0})),a.next=6,h.get("users/".concat(e,"/photos"),{params:{page:c,per_page:30}});case 6:l=a.sent,t(k({loading:!1,images:l.data,error:!1,page:c+1})),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),t(k({error:!0,loading:!1}));case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e,t){return a.apply(this,arguments)}}()}(a))}})))}),Ee=function(e){Object(P.a)(t,e);var a=Object(z.a)(t);function t(){return Object(_.a)(this,t),a.apply(this,arguments)}return Object(S.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;this.props.fetchUser(e)}},{key:"render",value:function(){var e=this.props.match.params.userId;return n.a.createElement(q,null,n.a.createElement(fe,null),n.a.createElement(ge,{userId:e}))}}]),t}(n.a.Component),ve=Object(o.b)(null,{fetchUser:function(e){return function(){var a=Object(f.a)(d.a.mark((function a(t){var r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t(w({loading:!0})),a.next=4,h.get("users/".concat(e));case 4:r=a.sent,t(w({loading:!1,user:r.data,error:!1})),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),t(w({error:!0,loading:!1}));case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}})(Ee),he=function(){return n.a.createElement(o.a,{store:I},n.a.createElement(Y.a,{theme:Q},n.a.createElement(s.a,null,n.a.createElement(i.c,null,n.a.createElement(i.a,{exact:!0,path:L,component:le(V)}),n.a.createElement(i.a,{exact:!0,path:"".concat(M,"/:query"),component:le(oe)}),n.a.createElement(i.a,{exact:!0,path:"".concat(R),component:le(se)}),n.a.createElement(i.a,{exact:!0,path:"".concat(R,"/:topic"),component:le(se)}),n.a.createElement(i.a,{exact:!0,path:"".concat(K,"/:userId"),component:le(ve)})))))};l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(he,null)),document.getElementById("root"))},81:function(e,a,t){e.exports=t(116)}},[[81,1,2]]]);
//# sourceMappingURL=main.d21a9d8b.chunk.js.map